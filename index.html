<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Streaming Drama</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#111; color:#fff; text-align:center; }
    .banner { margin:10px 0; }
    .share button { margin:5px; }
    iframe { width:100%; height:400px; border:none; border-radius:8px; }
    .servers button, .episodes button {
      margin:5px; padding:10px 15px; border:none; border-radius:6px; cursor:pointer; background:#333; color:#fff;
    }
    .episodes { display:grid; grid-template-columns: repeat(4, 1fr); gap:8px; margin:20px 0; }
    .poster { margin:20px auto; max-width:400px; }
    .poster img { width:100%; border-radius:8px; }
  </style>
</head>
<body>
  <h1 id="title"></h1>
  
  <div class="banner"><a id="ads-top" target="_blank"><img src="" alt="Ads Top"></a></div>
  
  <div class="share" id="share"></div>
  
  <div class="player"><iframe id="player" src="" allowfullscreen></iframe></div>
  
  <div>
    <button id="prev">⏮ Prev</button>
    <button id="next">Next ⏭</button>
  </div>
  
  <h3>Pilih Server</h3>
  <div class="servers" id="servers"></div>
  
  <div class="banner"><a id="ads-middle" target="_blank"><img src="" alt="Ads Middle"></a></div>
  
  <h3>Pilih Episode</h3>
  <div class="episodes" id="episodes"></div>
  
  <div class="poster">
    <img id="poster" src="" alt="Poster">
    <p id="sinopsis"></p>
  </div>
  
  <div class="banner"><a id="ads-bottom" target="_blank"><img src="" alt="Ads Bottom"></a></div>
  
<script>
let data, currentEpisode = 1;

fetch("data.json")
  .then(res => res.json())
  .then(json => {
    data = json;
    document.getElementById("title").innerText = data.title;
    document.getElementById("ads-top").href = data.ads_top;
    document.getElementById("ads-top").querySelector("img").src = data.ads_top;
    document.getElementById("ads-middle").href = data.ads_middle;
    document.getElementById("ads-middle").querySelector("img").src = data.ads_middle;
    document.getElementById("ads-bottom").href = data.ads_bottom;
    document.getElementById("ads-bottom").querySelector("img").src = data.ads_bottom;
    document.getElementById("poster").src = data.poster;
    document.getElementById("sinopsis").innerText = data.sinopsis;
    
    // Share buttons
    let shareHTML = "";
    for (const [platform, link] of Object.entries(data.share)) {
      shareHTML += `<button onclick="window.open('${link}','_blank')">${platform}</button>`;
    }
    document.getElementById("share").innerHTML = shareHTML;
    
    // Server buttons
    let serverHTML = "";
    for (const [name, link] of Object.entries(data.servers)) {
      serverHTML += `<button onclick="changeServer('${link}')">${name}</button>`;
    }
    document.getElementById("servers").innerHTML = serverHTML;
    
    // Episodes
    let epHTML = "";
    data.episodes.forEach(ep => {
      epHTML += `<button onclick="changeEpisode(${ep.id})">${ep.title}</button>`;
    });
    document.getElementById("episodes").innerHTML = epHTML;
    
    loadEpisode(currentEpisode);
  });

function loadEpisode(id) {
  currentEpisode = id;
  let ep = data.episodes.find(e => e.id === id);
  document.getElementById("player").src = ep.url;
}

function changeServer(link) {
  document.getElementById("player").src = link;
}

document.getElementById("prev").onclick = () => {
  if (currentEpisode > 1) loadEpisode(currentEpisode - 1);
};

document.getElementById("next").onclick = () => {
  if (currentEpisode < data.episodes.length) loadEpisode(currentEpisode + 1);
};
</script>
</body>
</html>
